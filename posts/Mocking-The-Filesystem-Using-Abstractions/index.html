<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Mocking The Filesystem Using Abstractions" /><meta name="author" content="Bart van Lierop" /><meta property="og:locale" content="en_US" /><meta name="description" content="Introduction" /><meta property="og:description" content="Introduction" /><link rel="canonical" href="https://bvanlierop.github.io//posts/Mocking-The-Filesystem-Using-Abstractions/" /><meta property="og:url" content="https://bvanlierop.github.io//posts/Mocking-The-Filesystem-Using-Abstractions/" /><meta property="og:site_name" content="Bart van Lierop" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-03-31T18:00:00+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Mocking The Filesystem Using Abstractions" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Bart van Lierop" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Bart van Lierop"},"headline":"Mocking The Filesystem Using Abstractions","dateModified":"2021-11-06T15:06:33+01:00","datePublished":"2021-03-31T18:00:00+02:00","description":"Introduction","url":"https://bvanlierop.github.io//posts/Mocking-The-Filesystem-Using-Abstractions/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://bvanlierop.github.io//posts/Mocking-The-Filesystem-Using-Abstractions/"},"@context":"https://schema.org"}</script><title>Mocking The Filesystem Using Abstractions | Bart van Lierop</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://cdn.jsdelivr.net/gh/cotes2020/chirpy-images/commons/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Bart van Lierop</a></div><div class="site-subtitle font-italic">Personal tech blog.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/bvanlierop" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Mocking The Filesystem Using Abstractions</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Mocking The Filesystem Using Abstractions</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> your_full_name </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Mar 31, 2021, 6:00 PM +0200" prep="on" > Mar 31 <i class="unloaded">2021-03-31T18:00:00+02:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sat, Nov 6, 2021, 3:06 PM +0100" prefix="Updated " > Nov 6 <i class="unloaded">2021-11-06T15:06:33+01:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="428 words">2 min</span></div></div><div class="post-content"><h1 id="introduction">Introduction</h1><p>On many occasions I come accross code that is tightly coupled to the file system. Here is an example of an import functionality using a CSV file read out:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp">    <span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
    <span class="k">using</span> <span class="nn">System.IO</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">DealershipImporter</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Dealership</span><span class="p">&gt;</span> <span class="nf">Import</span><span class="p">(</span><span class="kt">string</span> <span class="n">dealershipCatalogCsvPath</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">dealerships</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Dealership</span><span class="p">&gt;();</span>
            <span class="kt">var</span> <span class="n">catalogLines</span> <span class="p">=</span> <span class="n">File</span><span class="p">.</span><span class="nf">ReadAllLines</span><span class="p">(</span><span class="n">dealershipCatalogCsvPath</span><span class="p">);</span>

            <span class="k">foreach</span><span class="p">(</span><span class="kt">var</span> <span class="n">csvLine</span> <span class="k">in</span> <span class="n">catalogLines</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">dealerships</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span> <span class="nf">Dealership</span><span class="p">(</span><span class="n">csvLine</span><span class="p">));</span>
            <span class="p">}</span>

            <span class="k">return</span> <span class="n">dealerships</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="p">[</span><span class="n">TestFixture</span><span class="p">]</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">DealershipImporterTests</span>
    <span class="p">{</span>
        <span class="p">[</span><span class="n">Test</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">ShouldImportDealershipsFromValidCsvFile</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Arrange</span>
            <span class="k">const</span> <span class="kt">int</span> <span class="n">ExpectedNumberOfDealerships</span> <span class="p">=</span> <span class="m">5</span><span class="p">;</span>
            <span class="kt">var</span> <span class="n">dealershipImporter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DealershipImporter</span><span class="p">();</span>

            <span class="c1">// Act</span>
            <span class="kt">var</span> <span class="n">dealerships</span> <span class="p">=</span> <span class="n">dealershipImporter</span><span class="p">.</span><span class="nf">Import</span><span class="p">(</span><span class="s">@".\TestFiles\top_five_dealerships.csv"</span><span class="p">);</span>

            <span class="c1">// Assert</span>
            <span class="n">Assert</span><span class="p">.</span><span class="nf">AreEqual</span><span class="p">(</span><span class="n">ExpectedNumberOfDealerships</span><span class="p">,</span> <span class="n">dealerships</span><span class="p">.</span><span class="n">Count</span><span class="p">);</span>           
         <span class="p">}</span>
    <span class="p">}</span>
    </code></pre></figure><p>Class diagram:</p><insert here=""> On first glance the code looks okay but if you look closer it has some problems: * The Importer test is hard to maintain because we have to create and maintain a separate test file * The test takes longer because we need to access the disk which takes I/O resources. This adds up if you have thousands of unit tests. * The Importer violates the 'D' of the SOLID principle (Dependency Inversion Principle) because we are tightly coupled to System.IO.File class. # Improving the testability and design We can decouple the System.IO dependency by abstracting it away by leveraging a NuGet package called "System.IO.Abstractions". It's really useful for these use cases where you want to mock the file system:<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp">    <span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
    <span class="k">using</span> <span class="nn">System.IO.Abstraction</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">DealershipImporter</span>
    <span class="p">{</span>
        <span class="k">private</span> <span class="n">IFileSystem</span> <span class="n">fileSystem</span><span class="p">;</span>

        <span class="k">public</span> <span class="nf">DealershipImporter</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="n">fileSystem</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">FileSystem</span><span class="p">();</span> <span class="c1">// uses real System.IO implementation</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="nf">DealershipImporter</span><span class="p">(</span><span class="n">IFileSystem</span> <span class="n">fileSystem</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="n">fileSystem</span> <span class="p">=</span> <span class="n">fileSystem</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Dealership</span><span class="p">&gt;</span> <span class="nf">Import</span><span class="p">(</span><span class="kt">string</span> <span class="n">dealershipCatalogCsvPath</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">dealerships</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Dealership</span><span class="p">&gt;();</span>
            <span class="kt">var</span> <span class="n">catalogLines</span> <span class="p">=</span> <span class="n">fileSystem</span><span class="p">.</span><span class="n">File</span><span class="p">.</span><span class="nf">ReadAllLines</span><span class="p">(</span><span class="n">dealershipCatalogCsvPath</span><span class="p">);</span>

            <span class="k">foreach</span><span class="p">(</span><span class="kt">var</span> <span class="n">csvLine</span> <span class="k">in</span> <span class="n">catalogLines</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">dealerships</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span> <span class="nf">Dealership</span><span class="p">(</span><span class="n">csvLine</span><span class="p">));</span>
            <span class="p">}</span>

            <span class="k">return</span> <span class="n">dealerships</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    </code></pre></figure>In our test we can then mock out the file system by specifying a test input file up front:<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp">    <span class="p">[</span><span class="n">Test</span><span class="p">]</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">ShouldImportDealershipsFromValidCsvFile</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// Arrange</span>
        <span class="k">const</span> <span class="kt">int</span> <span class="n">ExpectedNumberOfDealerships</span> <span class="p">=</span> <span class="m">5</span><span class="p">;</span>
        <span class="k">const</span> <span class="kt">string</span> <span class="n">TestFilePath</span> <span class="p">=</span> <span class="s">@"c:\top_file_dealership.csv"</span><span class="p">;</span>

        <span class="c1">// Specify test input file up front by using MockFileSystem</span>
        <span class="kt">var</span> <span class="n">fileSystem</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MockFileSystem</span><span class="p">(</span><span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="n">MockFileData</span><span class="p">&gt;</span>
        <span class="p">{</span>
            <span class="p">{</span>  <span class="n">TestFilePath</span><span class="p">,</span> <span class="k">new</span> <span class="nf">MockFileData</span><span class="p">(</span><span class="s">"Dealer 1"</span> <span class="p">+</span> <span class="n">Environment</span><span class="p">.</span><span class="n">NewLine</span> <span class="p">+</span> <span class="s">"Dealer 2 ..."</span><span class="p">)</span> <span class="p">}</span>
        <span class="p">});</span>

        <span class="c1">// Inject the mock into the Importer class</span>
        <span class="kt">var</span> <span class="n">dealershipImporter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DealershipImporter</span><span class="p">(</span><span class="n">fileSystem</span><span class="p">);</span>

        <span class="c1">// Act</span>
        <span class="kt">var</span> <span class="n">dealerships</span> <span class="p">=</span> <span class="n">dealershipImporter</span><span class="p">.</span><span class="nf">Import</span><span class="p">(</span><span class="n">TestFilePath</span><span class="p">);</span>

        <span class="c1">// Assert</span>
        <span class="n">Assert</span><span class="p">.</span><span class="nf">AreEqual</span><span class="p">(</span><span class="n">ExpectedNumberOfDealerships</span><span class="p">,</span> <span class="n">dealerships</span><span class="p">.</span><span class="n">Count</span><span class="p">);</span>
    <span class="p">}</span>
    </code></pre></figure>This approach also works great for dealing with System.IO.Directory.Exists(), Create(), Delete() calls and many others. # Conclusion As maintainability is very important for code bases, we can raise it by introducing these kind of abstractions. It helps you to be less dependent on real implementations and in this case, as a side effect, it also speeds up the tests! </insert></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/testing/'>testing</a>, <a href='/categories/design/'>design</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/c/" class="post-tag no-text-decoration" >C#</a> <a href="/tags/mocks/" class="post-tag no-text-decoration" >mocks</a> <a href="/tags/unit-tests/" class="post-tag no-text-decoration" >unit tests</a> <a href="/tags/solid/" class="post-tag no-text-decoration" >SOLID</a> <a href="/tags/dependency-injection/" class="post-tag no-text-decoration" >dependency injection</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Mocking The Filesystem Using Abstractions - Bart van Lierop&url=https://bvanlierop.github.io//posts/Mocking-The-Filesystem-Using-Abstractions/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Mocking The Filesystem Using Abstractions - Bart van Lierop&u=https://bvanlierop.github.io//posts/Mocking-The-Filesystem-Using-Abstractions/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Mocking The Filesystem Using Abstractions - Bart van Lierop&url=https://bvanlierop.github.io//posts/Mocking-The-Filesystem-Using-Abstractions/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Mocking-The-Filesystem-Using-Abstractions/">Mocking The Filesystem Using Abstractions</a><li><a href="/posts/Clean-Git-Remote-Merged-Branches/">Periodically Clean Merged Git Branches</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/automation/">automation</a> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/dependency-injection/">dependency injection</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/mocks/">mocks</a> <a class="post-tag" href="/tags/powershell/">powershell</a> <a class="post-tag" href="/tags/solid/">SOLID</a> <a class="post-tag" href="/tags/unit-tests/">unit tests</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Clean-Git-Remote-Merged-Branches/"><div class="card-body"> <span class="timeago small" > Mar 31 <i class="unloaded">2021-03-31T18:00:00+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Periodically Clean Merged Git Branches</h3><div class="text-muted small"><p> Introduction In our team we had some trouble with old Git branches not being cleaned up although they were merged in the past. Jenkins (on Windows) would then also try to scan those which result...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Clean-Git-Remote-Merged-Branches/" class="btn btn-outline-primary" prompt="Older"><p>Periodically Clean Merged Git Branches</p></a> <span class="btn btn-outline-primary disabled" prompt="Newer"><p>-</p></span></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/username">your_full_name</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/automation/">automation</a> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/dependency-injection/">dependency injection</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/mocks/">mocks</a> <a class="post-tag" href="/tags/powershell/">powershell</a> <a class="post-tag" href="/tags/solid/">SOLID</a> <a class="post-tag" href="/tags/unit-tests/">unit tests</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://bvanlierop.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
